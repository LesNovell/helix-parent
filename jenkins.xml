<?xml version='1.0' encoding='UTF-8'?>
<maven2-moduleset plugin="maven-plugin@1.509.4">
  <actions />
  <description>Jenkins build job for Vertx Base Module</description>
  <logRotator class="hudson.tasks.LogRotator">
    <daysToKeep>10</daysToKeep>
    <numToKeep>5</numToKeep>
    <artifactDaysToKeep>-1</artifactDaysToKeep>
    <artifactNumToKeep>-1</artifactNumToKeep>
  </logRotator>
  <keepDependencies>false</keepDependencies>
  <properties>
    <org.jenkinsci.plugins.mavenrepocleaner.MavenRepoCleanerProperty plugin="maven-repo-cleaner@1.2">
      <notOnThisProject>true</notOnThisProject>
    </org.jenkinsci.plugins.mavenrepocleaner.MavenRepoCleanerProperty>
    <com.gmail.ikeike443.PlayAutoTestJobProperty plugin="play-autotest-plugin@0.0.12" />
  </properties>
  <scm class="hudson.plugins.git.GitSCM" plugin="git@2.0.1">
    <configVersion>2</configVersion>
    <userRemoteConfigs>
      <hudson.plugins.git.UserRemoteConfig>
        <url>{{ GIT_REPOSITORY }}</url>
      </hudson.plugins.git.UserRemoteConfig>
    </userRemoteConfigs>
    <branches>
      <hudson.plugins.git.BranchSpec>
        <name>{{ GIT_BRANCH }}</name>
      </hudson.plugins.git.BranchSpec>
    </branches>
    <doGenerateSubmoduleConfigurations>false</doGenerateSubmoduleConfigurations>
    <browser class="hudson.plugins.git.browser.GitLab">
      <url>{{ GIT_URL }}</url>
      <version>{{ GITLAB_VERSION }}</version>
    </browser>
    <submoduleCfg class="list" />
    <extensions>
      <hudson.plugins.git.extensions.impl.LocalBranch>
        <localBranch>{{ GIT_BRANCH }}</localBranch>
      </hudson.plugins.git.extensions.impl.LocalBranch>
    </extensions>
  </scm>
  <canRoam>true</canRoam>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <jdk>{{ JDK }}</jdk>
  <triggers />
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>uptime
        echo "*** THIS IS MY ENV ***"; env
      </command>
    </hudson.tasks.Shell>
  </builders>
  <!--<goals>clean deploy -Dartifact.build.number=$BUILD_NUMBER</goals>-->
  <goals>clean deploy -Pmutation-test -Dartifact.build.number=$BUILD_NUMBER</goals>
  <mavenName>Maven 3.1.1</mavenName>
  <auto_deploy>true</auto_deploy>
  <mavenOpts/>
  <aggregatorStyleBuild>true</aggregatorStyleBuild>
  <incrementalBuild>false</incrementalBuild>
  <perModuleEmail>true</perModuleEmail>
  <ignoreUpstremChanges>false</ignoreUpstremChanges>
  <archivingDisabled>false</archivingDisabled>
  <resolveDependencies>false</resolveDependencies>
  <processPlugins>false</processPlugins>
  <mavenValidationLevel>-1</mavenValidationLevel>
  <runHeadless>false</runHeadless>
  <settingConfigId/>
  <globalSettingConfigId/>
  <disableTriggerDownstreamProjects>false</disableTriggerDownstreamProjects>
  <settings class="jenkins.mvn.DefaultSettingsProvider" />
  <globalSettings class="jenkins.mvn.DefaultGlobalSettingsProvider" />
  <reporters>
    <hudson.maven.reporters.MavenMailer>
      <recipients>{{ USER_EMAIL }}</recipients>
      <dontNotifyEveryUnstableBuild>false</dontNotifyEveryUnstableBuild>
      <sendToIndividuals>true</sendToIndividuals>
      <perModuleEmail>true</perModuleEmail>
    </hudson.maven.reporters.MavenMailer>
  </reporters>
    <publishers>
      <hudson.plugins.postbuildtask.PostbuildTask plugin="postbuild-task@1.8">
        <tasks>
          <hudson.plugins.postbuildtask.TaskProperties>
            <logTexts>
              <hudson.plugins.postbuildtask.LogProperties>
                <logText/>
                <operator>AND</operator>
              </hudson.plugins.postbuildtask.LogProperties>
            </logTexts>
            <EscalateStatus>false</EscalateStatus>
            <RunIfJobSuccessful>false</RunIfJobSuccessful>
            <script>
              # You can put random commands that will get run on the jenkins node; used to help diagnose issues on Jenkins
            </script>
          </hudson.plugins.postbuildtask.TaskProperties>
        </tasks>
      </hudson.plugins.postbuildtask.PostbuildTask>
  </publishers>
  <buildWrappers>
    <org.jvnet.hudson.plugins.m2release.M2ReleaseBuildWrapper plugin="m2release@0.13.0">
      <scmUserEnvVar/>
      <scmPasswordEnvVar/>
      <releaseEnvVar>IS_M2RELEASEBUILD</releaseEnvVar>
      <releaseGoals>-Dresume=false -Pmutation-test release:prepare release:perform</releaseGoals>
      <dryRunGoals>-Dresume=false -DdryRun=true -Pmutation-test release:prepare</dryRunGoals>
      <selectCustomScmCommentPrefix>false</selectCustomScmCommentPrefix>
      <selectAppendHudsonUsername>false</selectAppendHudsonUsername>
      <selectScmCredentials>false</selectScmCredentials>
      <numberOfReleaseBuildsToKeep>0</numberOfReleaseBuildsToKeep>
    </org.jvnet.hudson.plugins.m2release.M2ReleaseBuildWrapper>
    <org.jvnet.hudson.plugins.port__allocator.PortAllocator>
      <ports>
        <org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
          <name>UWD_PORT</name>
        </org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
        <org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
          <name>MOCK_SERVER_PORT</name>
        </org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
        <org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
          <name>TEST_VERTICLE_DEPLOY_SERVER_PORT</name>
        </org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
        <org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
          <name>METRICS_PUBLISH_PORT</name>
        </org.jvnet.hudson.plugins.port__allocator.DefaultPortType>
      </ports>
    </org.jvnet.hudson.plugins.port__allocator.PortAllocator>
  </buildWrappers>
  <prebuilders />
  <postbuilders />
  <runPostStepsIfResult>
    <name>FAILURE</name>
    <ordinal>2</ordinal>
    <color>RED</color>
    <completeBuild>true</completeBuild>
  </runPostStepsIfResult>
</maven2-moduleset>
